---
title: Preview Window
description: Learn how to use fzf's preview window to display file content, command output, and more with the --preview option
---

The preview window is one of fzf's most powerful features, allowing you to see file contents, command outputs, or any other information while browsing through your selections.

## Basic Usage

When the `--preview` option is set, fzf automatically starts an external process with the current line as the argument and shows the result in a split window.

```bash
# {} is replaced with the single-quoted string of the focused line
fzf --preview 'cat {}'
```

Your `$SHELL` is used to execute the command with `$SHELL -c COMMAND`. The window can be scrolled using the mouse or custom key bindings.

<Warning>
Since fzf is a general-purpose text filter rather than a file finder, **it is not a good idea to add `--preview` option to your `$FZF_DEFAULT_OPTS`**.

```sh
# *********************
# ** DO NOT DO THIS! **
# *********************
export FZF_DEFAULT_OPTS='--preview "bat --style=numbers --color=always --line-range :500 {}"'

# bat doesn't work with any input other than the list of files
ps -ef | fzf
seq 100 | fzf
history | fzf
```
</Warning>

## Syntax Highlighting

Preview window supports ANSI colors, so you can use any program that syntax-highlights the content of a file, such as [Bat](https://github.com/sharkdp/bat) or [Highlight](https://gitlab.com/saalen/highlight):

```bash
fzf --preview 'bat --color=always {}' --preview-window '~3'
```

## Customizing Preview Window

You can customize the size, position, and border of the preview window using `--preview-window` option, and the foreground and background color with `--color` option.

```bash
fzf --height 40% --layout reverse --info inline --border \
    --preview 'file {}' --preview-window up,1,border-horizontal \
    --bind 'ctrl-/:change-preview-window(50%|hidden|)' \
    --color 'fg:#bbccdd,fg+:#ddeeff,bg:#334455,preview-bg:#223344,border:#778899'
```

### Preview Window Position and Size

The `--preview-window` option accepts multiple components delimited by commas:

- **Position**: `up`, `down`, `left`, `right`
- **Size**: Percentage or absolute number (e.g., `60%`, `80`)
- **Border style**: `border-horizontal`, `border-vertical`, `border-bottom`, etc.
- **Scroll offset**: Advanced positioning for specific lines
- **Fixed header**: Lines that stay visible when scrolling

## Advanced Preview Examples

### Ripgrep with Preview

Highlight matching lines in the preview window:

```bash
rg --color=always --line-number --no-heading --smart-case "pattern" |
  fzf --ansi \
      --color "hl:-1:underline,hl+:-1:underline:reverse" \
      --delimiter : \
      --preview 'bat --color=always {1} --highlight-line {2}' \
      --preview-window 'up,60%,border-bottom,+{2}+3/3,~3'
```

#### Breaking Down the Preview Window Options

Let's understand the `--preview-window 'up,60%,border-bottom,+{2}+3/3,~3'` option:

1. `up` — Position of the preview window
2. `60%` — Size of the preview window (60% height)
3. `border-bottom` — Preview window border only on the bottom side
4. `+{2}+3/3` — Scroll offset of the preview contents
   - `+{2}` — Base offset extracted from the second token (line number)
   - `+3` — Add 3 lines to compensate for bat's header
   - `/3` — Position the line at one-third of the window height
5. `~3` — Fixed header (top 3 lines always visible)

### Log Tailing with Follow Mode

fzf can run long-running preview commands and render partial results. With the `follow` flag, fzf will automatically scroll to the bottom like `tail -f`.

```bash
# Kubernetes pod log viewer
pods() {
  command='kubectl get pods --all-namespaces' fzf \
    --info=inline --layout=reverse --header-lines=1 \
    --prompt "$(kubectl config current-context | sed 's/-context$//')> " \
    --header $'╱ Enter (kubectl exec) ╱ CTRL-O (open log in editor) ╱ CTRL-R (reload) ╱\n\n' \
    --bind 'start,ctrl-r:reload:$command' \
    --bind 'ctrl-/:change-preview-window(80%,border-bottom|hidden|)' \
    --bind 'enter:execute:kubectl exec -it --namespace {1} {2} -- bash' \
    --bind 'ctrl-o:execute:${EDITOR:-vim} <(kubectl logs --all-containers --namespace {1} {2})' \
    --preview-window up:follow \
    --preview 'kubectl logs --follow --all-containers --tail=10000 --namespace {1} {2}' "$@"
}
```

<Tip>
Holding on to a large amount of log will consume a lot of memory. Limit the initial log amount with `--tail=10000`.
</Tip>

### Dynamic Preview Window Control

Toggle between different preview window configurations:

```bash
fzf --bind 'ctrl-/:change-preview-window(80%,border-bottom|hidden|)'
```

Press CTRL-/ repeatedly to rotate through:
1. `80%,border-bottom`
2. `hidden`
3. Empty string (default options)

## Previewing Images

fzf can display images in the preview window using one of the following protocols:

- [Kitty graphics protocol](https://sw.kovidgoyal.net/kitty/graphics-protocol/)
- [iTerm2 inline images protocol](https://iterm2.com/documentation-images.html)
- [Sixel](https://en.wikipedia.org/wiki/Sixel)

See the [fzf-preview.sh](https://github.com/junegunn/fzf/blob/master/bin/fzf-preview.sh) script for implementation details.

```bash
fzf --preview 'fzf-preview.sh {}'
```

## Field Index Expressions

Use placeholders to reference specific parts of the selected line:

- `{}` — The entire line
- `{1}`, `{2}`, `{3}`, ... — Individual fields (requires `--delimiter`)
- `{1..3}` — Range of fields
- `{..3}` — From start to field 3
- `{2..}` — From field 2 to end

```bash
# Git grep with preview showing file and line number
git grep --line-number . |
  fzf --delimiter : \
      --preview 'bat --color=always {1} --highlight-line {2}' \
      --bind 'enter:become(vim {1} +{2})'
```

## Common Preview Patterns

### File Browser

```bash
fd --type f | fzf --preview 'bat --color=always --style=numbers {}'
```

### Directory Tree

```bash
fd --type d | fzf --preview 'tree -C {} | head -200'
```

### Git Commits

```bash
git log --oneline | fzf --preview 'git show --color=always {1}'
```

### Process List

```bash
ps -ef | fzf --bind='ctrl-r:reload(ps -ef)' \
    --header='Press CTRL-R to reload' --header-lines=1 \
    --preview='echo {}' --preview-window=down,3,wrap
```